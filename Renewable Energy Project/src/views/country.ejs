<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title><%=country%></title>
  <meta name="author" content="You">
  <meta name="description" content="A compendium of Harry Potter characters">
  <meta content="text/html" http-equiv="Content-type" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">

</head>

<body>
  <%- include ('global/navbar');  %>

  <header>
    <h1><%=country%></h1>
  </header>
  <section id="energy-stats">
  <h2>Stats</h2>
  <ul>
    <%  for (let i = 1966; i < 2022; i++) { %>
      <li><%=i%>: <%= data[i] %></li>
    <%}%>


  </ul>
  </section>

  <div id="tester" style="width:90%;height:250px;"></div>

  <script>

     let xdata =  [];
     let ydata = [];

  <%  for (let i = 1966; i < 2022; i++) {%>
      xdata[<%=(i-1966)%>] = <%=i%>
      ydata[<%=(i-1966)%>] = <%=data[i]%>
    <%}%>

    let graph_data = [{
       x: xdata,
       y: ydata,
      type: 'scatter',
      mode: 'lines'
    }];

    let layout = {
       xaxis: {
        tickmode: "linear",
        tick0: 0.5,
        dtick: 0.75
      }
    }

    Plotly.newPlot('tester', graph_data, layout);


  </script>



  <%- include ('global/scripts');  %>
  <%- include ('global/footer');  %>
  </body>
</body>

</html>
